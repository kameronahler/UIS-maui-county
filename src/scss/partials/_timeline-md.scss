
/* ================================

Timeline MD+

==================================*/
// hide stuff before md
.timeline-4up,
.timeline-4up__description{
	display:none;
	visibility:hidden;
}

.timeline-4up{
	display:none;
	visibility:hidden;

	@include bp(md){
		display:block;
		visibility:visible;
	}	

	// MD+ only
	@include bp(md){
		@include reset-box-sizing-all;

		/* --------------
		timeline-4up main list
		---------------- */
		@include flex(center,flex-start);
		position:relative;
		margin-left:0;
		margin-bottom:1em;
		list-style:none;
		background:#fafafa;
		box-shadow: $box-shadow-description-cards;

		/* --------------
		start/end header
		----------------*/
		&__header{
			@include flex;
		}
		&__header-start{
			margin-right:auto
		}
		&__header-end{
			margin-left:auto
		}

		/* --------------
		li
		----------------*/
		&__item{
			position:relative;
			z-index:2;
			height:100%;
			width:25%;

			&::before{
				@include absolute(null,0,null,0);
				display:block;
				content:"";
				width:100%;
				height:4px;
				background:$color-description-card-text;
				opacity:0;
			}
		}

		/* --------------
		decoration li
		----------------*/
		&__decoration-bg{
			@include absolute(0,0);
			transform-origin:0 0;
			z-index:1;
			height:100%;
			width:25%;
			transform:translateZ(0);
			transition:$transition-3 .1s;
		}

		/* --------------
		header
		----------------*/
		&__item-header{
			display:block;
			width:100%;
			min-height:250px;
		}
		&__item-header-h2{
			padding:1em 1em;
			text-align:center;
			font-size: 1em;
			text-transform: uppercase;
			background:$color-card-overlay;
			color:$color-description-card-text;
		}

		/* --------------
		footer
		----------------*/
		&__item-footer{
			align-self:flex-end;
			display:block;
			width:100%;
		}
		&__item-footer-h2{
			padding:1em 1em;
			text-align:center;
			font-size: 1em;
			line-height:1.2;
			text-transform: uppercase;
			min-height:58px;
			color:$color-description-card-text;
			background:$color-card-overlay
		}

		/* --------------
		description ul
		----------------*/
		&__description{
			list-style:none;
			margin-left:0;
			position:relative;
			min-height:150px;
			display:block;
			visibility:visible
		}

		/* --------------
		description li item flex-parent
		----------------*/
		&__description-item{
			@include absolute(0,0);
			@include flex(center,stretch);
			list-style:none;
			margin-left:0;
			width:100%;
			visibility:hidden;
			
			// color variations for flex children cards
			&--one{
				.timeline-4up__description-wrapper{
					background:$color-timeline-1
				}
			}
			&--two{
				.timeline-4up__description-wrapper{
					background:$color-timeline-2
				}
			}
			&--three{
				.timeline-4up__description-wrapper{
					background:$color-timeline-3
				}
			}
			&--four{
				.timeline-4up__description-wrapper{
					background:$color-timeline-4
				}
			}
		}

		/* --------------
		description flex-children cards
		----------------*/
		&__description-wrapper{
			padding:1em;
			width:calc(33.33334% - 0.66667em);
			box-shadow: $box-shadow-description-cards;
			transform:translateY(3em);
			opacity:0;

			&:nth-child(2){
				margin:0 1em;
			}
		}


		/* --------------
		description header
		----------------*/
		&__description-header{
			padding-bottom:.5em;
			margin-bottom:1em;
			border-bottom:2px solid $color-description-card-text;

			// icon variations for card headers
			&--purpose{
				.timeline-4up__description-header-h2::before{
					background-image:url('/files/icon-purpose.png');
					background-image:url('/files/icon-purpose.svg');
				}
			}
			&--products{
				.timeline-4up__description-header-h2::before{
					background-image:url('/files/icon-products.png');
					background-image:url('/files/icon-products.svg');
				}
			}
			&--yourvoice{
				.timeline-4up__description-header-h2::before{
					background-image:url('/files/icon-yourvoice.png');
					background-image:url('/files/icon-yourvoice.svg');
				}
			}
		}
		&__description-header-h2{
			@include reset-box-sizing;
			display:inline-block;
			vertical-align:top;
			line-height:1.2;
			color:$color-description-card-text;
			width:100%;

			&::before{
				content:"";
				display:inline-block;
				width:18px;
				height:18px;
				background-position:50%;
				background-color:transparent;
				background-repeat:no-repeat;
				background-size:cover;
				margin-right:.5em;
			}
		}

		/* --------------
		description text
		----------------*/
		&__description-text{
			color:$color-description-card-text;
		}

		/* --------------
		interactions
		----------------*/
		&__decoration-bg{
			&:hover{
				cursor:pointer !important;
				transform:translateZ(0);
			}
		}
		&__item{
			&:hover{
				background:rgba(black,.1);
				transition: background $transition-3 .1s;
				cursor:pointer !important;
			}

			@include timelineitemactiveinteraction(one,1,$color-timeline-1);			
			@include timelineitemactiveinteraction(two,2,$color-timeline-2);			
			@include timelineitemactiveinteraction(three,3,$color-timeline-3);			
			@include timelineitemactiveinteraction(four,4,$color-timeline-4)
		}

		// click js active
		&__item{
			&.js-active{
				&::before{
					opacity:1;
					transition:$transition-3;
				}
			}
		}
		&__description-item{
			&.js-active{
				opacity:1;
				visibility:visible;

				.timeline-4up__description-wrapper{
					transform:translateY(0);
					opacity:1;

					&--purpose{
						transition:$transition-4 .1s;
					}
					&--products{
						transition:$transition-4 .4s;
					}
					&--yourvoice{
						transition:$transition-4 .7s;
					}
				}
			}
		}	
	}
}