/* ================================

Timeline MD+

==================================*/
// hide stuff before md
.timeline-4up,
.timeline-4up__description{
	display:none;
	visibility:hidden;
}

.timeline-4up{
	display:none;
	visibility:hidden;

	@include bp(md){
		display:block;
		visibility:visible;
	}	

	// MD+ only
	@include bp(md){
		@include reset-box-sizing-all;

		/* --------------
		timeline-4up main list
		----------------*/
		@include flex(stretch,flex-start,flex-start);
		position:relative;
		overflow:hidden;
		margin-left:0;
		margin-bottom:1em;
		list-style:none;
		background:#fafafa;
		background-size:cover;

		/* --------------
		li
		----------------*/
		&__item{
			position:relative;
			z-index:1;
			height:100%;
			width:100%;
		}

		/* --------------
		decoration li
		----------------*/
		&__decoration-bg{
			@include absolute(0,0);
			transform-origin:0 0;
			z-index:0;
			height:100%;
			width:25%;
			transition:$transition-3 .1s;
		}

		/* --------------
		header
		----------------*/
		&__item-header{
			display:block;
			width:100%;
			min-height:250px;
		}
		&__item-header-h2{
			padding:1em 1em;
			text-align:center;
			background:rgba(black,.375);
			color:#fff;
		}

		/* --------------
		footer
		----------------*/
		&__item-footer{
			align-self:flex-end;
			display:block;
			width:100%;
		}
		&__item-footer-h2{
			padding:1em 1em;
			text-align:center;
			color:#fff;
			background:rgba(black,.125)
		}

		/* --------------
		description ul
		----------------*/
		&__description{
			list-style:none;
			margin-left:0;
			position:relative;
			min-height:150px;
			display:block;
			visibility:visible
		}

		/* --------------
		description li item flex-parent
		----------------*/
		&__description-item{
			@include absolute(0,0);
			@include flex(center,stretch);
			list-style:none;
			margin-left:0;
			width:100%;
			visibility:hidden;
			
			// color variations for flex children cards
			&--one{
				.timeline-4up__description-wrapper{
					background:$color-timeline-1
				}
			}
			&--two{
				.timeline-4up__description-wrapper{
					background:$color-timeline-2
				}
			}
			&--three{
				.timeline-4up__description-wrapper{
					background:$color-timeline-3
				}
			}
			&--four{
				.timeline-4up__description-wrapper{
					background:$color-timeline-4
				}
			}
		}

		/* --------------
		description flex-children cards
		----------------*/
		&__description-wrapper{
			padding:1em;
			width:calc(33.33334% - 0.66667em);
			box-shadow: $box-shadow-description-cards;
			transform:translateY(3em);
			opacity:0;

			&:nth-child(2){
				margin:0 1em;
			}
		}


		/* --------------
		description header
		----------------*/
		&__description-header{
			margin-bottom:1em;
			color:#fff;
		}
		&__description-header-h2{
			display:inline-block;

			&::before{
				content:"";
				display:inline-block;
				width:18px;
				height:18px;
				background:gray;
				border-radius:50%;
				margin-right:.5em;

			}
		}

		/* --------------
		description text
		----------------*/
		&__description-text{
			color:#fff;
		}

		/* --------------
		interactions
		----------------*/


		// hover
		&__item{
			&:not(.js-active):hover{
				cursor:pointer;
			}

			@include timelineitemhoverinteraction(one,1,$color-timeline-1);			
			@include timelineitemhoverinteraction(two,2,$color-timeline-2);			
			@include timelineitemhoverinteraction(three,3,$color-timeline-3);			
			@include timelineitemhoverinteraction(four,4,$color-timeline-4);

			@include timelineitemactiveinteraction(one,1,$color-timeline-1);			
			@include timelineitemactiveinteraction(two,2,$color-timeline-2);			
			@include timelineitemactiveinteraction(three,3,$color-timeline-3);			
			@include timelineitemactiveinteraction(four,4,$color-timeline-4)
		}

		// click js active
		&__item{
			&.js-active{
				&::before{
					@include absolute(null,0,null,0);
					display:block;
					content:"";
					width:100%;
					height:4px;
					background:rgba(black,.25);
				}
			}
		}
		&__description-item{
			&.js-active{
				opacity:1;
				visibility:visible;

				.timeline-4up__description-wrapper{
					transform:translateY(0);
					opacity:1;

					&--purpose{
						transition:$transition-4 .1s;
					}
					&--products{
						transition:$transition-4 .4s;
					}
					&--yourvoice{
						transition:$transition-4 .7s;
					}
				}
			}
		}	
	}
}